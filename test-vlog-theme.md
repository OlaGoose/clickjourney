# Vlog主题修复测试指南

## 快速测试步骤

### 1. 测试白天黑夜模式切换

**方法1：修改系统时间**
- 将系统时间设置为白天时间（如 14:00），刷新页面，应显示亮色模式
- 将系统时间设置为夜间时间（如 23:00），刷新页面，应显示暗色模式

**方法2：使用浏览器DevTools**
```javascript
// 在浏览器控制台执行以下代码临时修改时间
// 测试夜间模式（23点）
Date.prototype.getHours = function() { return 23; }
// 刷新页面

// 测试白天模式（14点）
Date.prototype.getHours = function() { return 14; }
// 刷新页面
```

### 2. 测试Step 2元素可见性

访问 `/memories/vlog`，进入Step 2，检查：

#### 剧本输入区域
- [ ] 标题"剧本"在两种模式下都清晰
- [ ] Textarea的文本在两种模式下都可读
- [ ] Placeholder在两种模式下对比度适当

#### 录音控件
- [ ] "录音"按钮（初始状态）：黑色背景+白色文字
- [ ] 录音中状态：红色徽章+停止按钮
- [ ] 录音完成后的播放按钮在两种模式下都可见
- [ ] "转录"按钮在两种模式下都可见
- [ ] 删除按钮（垃圾桶图标）在两种模式下都可见

#### YouTube链接输入
- [ ] 标题"视频链接"在两种模式下都清晰
- [ ] Textarea在两种模式下文本可读
- [ ] "已添加X个片段"提示在两种模式下都清晰

### 3. 测试Step 3元素可见性

#### 色彩等级选择器
- [ ] 标签文字在两种模式下都清晰
- [ ] Select框的当前选中值在两种模式下都可读
- [ ] 下拉箭头在两种模式下都可见
- [ ] **点击下拉框**，检查option列表：
  - 暗色模式：深灰色背景 + 白色文字
  - 亮色模式：白色背景 + 深灰色文字
- [ ] 鼠标悬停在option上有高亮效果
- [ ] Focus状态有视觉反馈

### 4. 测试底部按钮

#### Step 1按钮
- [ ] "上传"按钮：默认黑色，禁用时半透明+灰色
- [ ] "音轨"按钮：未选中时半透明，选中后黑色
- [ ] "下一步"按钮：默认黑色，禁用时半透明+灰色

#### Step 2按钮
- [ ] "开始播放"按钮：默认黑色，禁用时半透明+灰色
- [ ] 按钮图标颜色与文本颜色一致

## 预期效果对比

### 暗色模式（22:00-5:59）
```
背景：深蓝渐变到黑色
文本：白色 / 白色半透明
输入框：白色半透明背景 + 白色文字
按钮（启用）：黑色背景 + 白色文字
按钮（禁用）：白色半透明背景 + 白色半透明文字
Select下拉：深灰色背景 + 白色文字
```

### 亮色模式（6:00-21:59）
```
背景：浅蓝到白色渐变
文本：深灰色
输入框：白色半透明背景 + 深灰色文字
按钮（启用）：黑色背景 + 白色文字
按钮（禁用）：灰色背景 + 灰色文字
Select下拉：白色背景 + 深灰色文字
```

## 常见问题排查

### 问题1：页面刷新后主题不正确
- **原因**：浏览器缓存
- **解决**：清除缓存或硬刷新（Cmd+Shift+R / Ctrl+Shift+R）

### 问题2：Select的option列表看不见
- **检查点**：点击Select后，option列表应该有明确的背景色
- **暗色模式**：深灰色背景（#1F2937）+ 白色文字
- **亮色模式**：白色背景 + 深灰色文字

### 问题3：文本颜色对比度不够
- **标准**：WCAG AA级对比度要求至少4.5:1
- **工具**：使用Chrome DevTools的Accessibility检查工具

## 浏览器兼容性注意事项

### Safari
- Select的option样式可能受限，但至少应该可读
- 如果option背景色不生效，这是Safari的已知限制

### Chrome/Edge
- 完全支持所有样式

### Firefox
- 完全支持所有样式

## 如果问题仍然存在

1. **检查浏览器控制台是否有错误**
2. **确认当前时间和getHours()返回值**
   ```javascript
   console.log(new Date().getHours())
   ```
3. **检查isDark变量的值**
   - 在React DevTools中查看组件的isDark state/prop
4. **清除所有缓存并硬刷新**
5. **尝试隐私/无痕模式**

## 成功标准

✅ 所有文本在两种模式下对比度充足，清晰可读
✅ 所有按钮在启用/禁用状态下都清晰可辨
✅ Select下拉框的option在两种模式下都可读
✅ 页面根据当前时间自动切换主题
✅ 刷新页面后主题保持正确
✅ 主题切换有平滑的过渡效果
